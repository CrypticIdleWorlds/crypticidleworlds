<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Combat - Cryptic Idle Worlds</title>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <div id="save-bar">
    <span id="last-save-time">Time since last save: 0s</span>
    <button onclick="saveProgress()" style="float:right;" class="btn">💾 Save Game</button>
  </div>

  <h1>⚔️ Combat Mode <button onclick="window.location.href='home.html'" class="btn" style="float:right">🛑 Escape</button></h1>

  <div id="combat-style-panel">
    <h3>Choose Combat Style</h3>
    <div class="style-group">
      <strong>Melee <img src="assets/skills/strength.png" alt="melee"></strong><br>
      <label class="combat-style-option"><input type="radio" name="combatStyle" value="attack"> Stab (Trains Attack)</label>
      <label class="combat-style-option"><input type="radio" name="combatStyle" value="strength"> Slash (Trains Strength)</label>
      <label class="combat-style-option"><input type="radio" name="combatStyle" value="defense"> Block (Trains Defense)</label>
    </div>
    <div class="style-group">
      <strong>Ranged <img src="assets/skills/ranged.png" alt="ranged"></strong><br>
      <label class="combat-style-option"><input type="radio" name="combatStyle" value="ranged"> Rapid Fire (Trains Ranged)</label>
      <label class="combat-style-option"><input type="radio" name="combatStyle" value="ranged"> Long Range (Trains Ranged)</label>
      <label class="combat-style-option"><input type="radio" name="combatStyle" value="ranged_defense"> Controlled (Trains Ranged + Defense)</label>
    </div>
    <div class="style-group">
      <strong>Magic <img src="assets/skills/magic.png" alt="magic"></strong><br>
      <label class="combat-style-option"><input type="radio" name="combatStyle" value="magic"> Aggressive Cast (Trains Magic)</label>
      <label class="combat-style-option"><input type="radio" name="combatStyle" value="magic_defense"> Defensive Cast (Trains Magic + Defense)</label>
    </div>
  </div>

  <div id="combat-container">
    <div id="enemy-box">
      <h2 id="enemy-name">Enemy</h2>
      <img id="enemy-image" src="" alt="Enemy" width="120" />
      <p>HP: <span id="enemy-hp">0</span></p>
    </div>
    <div id="player-box">
      <h2>You</h2>
      <p>HP: <span id="player-hp">100</span></p>
      <button class="btn" onclick="startBattle()">Battle</button>
      <div id="food-box">
        <p>Food:</p>
        <img src="assets/items/consumables/bread.png" alt="Bread" onclick="eatFood()" />
      </div>
    </div>
  </div>

  <div id="skills-tab">
    <h3>🧠 Skill Levels</h3>
    <ul id="combat-skill-tracker" style="list-style: none; padding: 0;"></ul>
  </div>

  <div id="combat-log">[LOG] Combat initialized.<br /></div>
  <div id="level-up-popup" class="level-up-message"></div>

  <!-- Scripts -->
  <script src="js/enemy-data.js"></script>
  <script src="js/skills.js"></script>
  <script src="js/combat.js"></script>
</body>
</html>
